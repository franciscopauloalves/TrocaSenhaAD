<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário de troca de senha</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.1/css/bootstrap.min.css"
        integrity="sha512-6KY5s6UI5J7SVYuZB4S/CZMyPylqyyNZco376NM2Z8Sb8OxEdp02e1jkKk/wZxIEmjQ6DRCEBhni+gpr9c4tvA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.1/js/bootstrap.min.js"
        integrity="sha512-ewfXo9Gq53e1q1+WDTjaHAGZ8UvCWq0eXONhwDuIoaH8xz2r96uoAYaQCm1oQhnBfRXrvJztNXFsTloJfgbL5Q=="
        crossorigin="anonymous" referrerpolicy="no-referrer">
    </script>

</head>

<style>
    .custom-card {
        max-width: 80%;
        min-width: 70%;
        margin: 0 auto;
    }
</style>

<body>

    <section class="form-control-lg">
        <div class="card shadow-sm custom-card">
            <div class="card-body">
                <h1 class="main-heading text-center">Alterar Senha</h1>

                <div class="politica-senha">
                    <button type="button" class="btn btn-warning px-4" data-bs-toggle="modal" data-bs-target="#myModal">
                        Exibir política de senha
                    </button>
                </div>
                <br>

                <form method="POST" action="" id="form-senha" class="form-floating">

                    <div class="row g-2">
                        <div class="col-md-12">
                            <div class="form-floating">
                                <input type="text" class="form-control" id="usuario" placeholder="Usuário" value=""
                                    required disabled>
                                <label for="usuario">Usuário</label>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-floating">
                                <input type="password" class="form-control" id="senha" placeholder="Senha atual"
                                    value="" required>
                                <label for="senha">Senha atual</label>
                            </div>

                            <div class="form-check text-start h6 text-secondary">
                                <input type="checkbox" class="form-check-input" id="mostrar-senha-atual">
                                <label class="form-check-label" for="mostrar-senhas">Mostrar senha</label>
                            </div>

                        </div>

                        <div class="col-md-12" style="display: block;">
                            <div class="form-floating">
                                <input id="nova-senha" type="password" class="form-control" placeholder="Nova senha"
                                    required>
                                <label for="nova-senha">Nova senha</label>
                            </div>

                            <div class="form-check text-start h6 text-secondary">
                                <input type="checkbox" class="form-check-input" id="mostrar-senha-nova">
                                <label class="form-check-label" for="mostrar-senhas">Mostrar senha</label>
                            </div>
                        </div>

                        <div class="col-md-12" style="display: block;">
                            <div class="form-floating">
                                <input id="confirm-nova-senha" type="password" class="form-control" required
                                    placeholder="Confirme nova senha">
                                <label for="confirm-nova-senha">Confirme nova senha</label>
                                <div style="margin-top: 7px;" id="CheckPasswordMatch"></div>
                            </div>

                            <div class="form-check text-start h6 text-secondary">
                                <input type="checkbox" class="form-check-input" id="mostrar-senha-confirmacao">
                                <label class="form-check-label" for="mostrar-senhas">Mostrar
                                    senha</label>
                            </div>
                        </div>
                    </div>

                    <div class="row mb-0 mt-4" style="display: block;">
                        <div class="col-md-12 ">
                            <input type="button" id="btn-senha" class="btn btn-primary py-1 px-4" value="Enviar" />
                        </div>
                    </div>

                    <hr>
                    <div class="row mb-0 mt-4 text-center" style="display: block;">
                        <div class="col-md-12">
                            <a class="col-md-2 btn btn-secondary py-1 px-3" href="index.html">Tela Inicial</a>
                            <a class="col-md-2 btn btn-danger py-1 px-3" href="login.html">Sair</a>
                        </div>
                    </div>
                </form>

                <!-- Modal - Política de senha-->
                <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h4 class="modal-title" id="myModalLabel">Política de senha</h4>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="list-group">
                                    <a class="list-group-item list-group-item-action active" aria-current="true">
                                        Ter pelo menos: </a>
                                    <a class="list-group-item list-group-item-action">1 letra maiúscula</a>
                                    <a class="list-group-item list-group-item-action">1 letra minúscula</a>
                                    <a class="list-group-item list-group-item-action">1 número</a>
                                    <a class="list-group-item list-group-item-action">1 caractere especial (& @ # * $
                                        etc.)</a>
                                    <a class="list-group-item list-group-item-action active" aria-current="true">
                                        Não deve: </a>
                                    <a class="list-group-item list-group-item-action">ter espaço em branco</a>
                                    <a class="list-group-item list-group-item-action">ser uma sequência de letras ou
                                        números</a>
                                    <a class="list-group-item list-group-item-action">ser igual as últimas 4 senhas</a>
                                    <a class="list-group-item list-group-item-action">conter informações pessoais (parte
                                        do nome, CPF, e-mail etc.)</a>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="messageDiv" style="display:none"
            class="container d-flex align-items-center justify-content-center text-danger"></div>
        <div id="spinner"></div>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            let valorSalvo = localStorage.getItem('loginUsuario');
            if (valorSalvo !== null) {
                document.getElementById('usuario').value = valorSalvo;
            }
        });
    </script>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="script.js"></script>
    <script src="script_politica_senha.js"></script>
    <script src="script_exibir_politica.js"></script>

</body>

</html>