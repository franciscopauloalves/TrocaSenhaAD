<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário de troca de dados</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">

</head>

<style>
    @keyframes spinner {
        to {
            transform: rotate(360deg);
        }
    }

    .spinner:before {
        content: '';
        box-sizing: border-box;
        position: absolute;
        top: 50%;
        left: 48%;
        width: 100px;
        height: 100px;
        margin-top: -10px;
        margin-left: -10px;
        border-radius: 50%;
        border: 2px solid #ccc;
        border-top-color: #000;
        animation: spinner .6s linear infinite;
    }

    .custom-card {
        max-width: 80%;
        min-width: 70%;
        margin: 0 auto;
    }

    .dados {
        display: none;
    }

    #btn-dados {
        display: none;
    }
</style>

<body>
    <section class="form-control-lg">
        <div class="card shadow-sm custom-card">
            <div class="card-body">
                <h1 class="main-heading">Alterar Dados</h1>
                <form method="POST" action="" id="form-dados" class="form-floating">

                    <div class="row g-lg-2">
                        <div class="col-md-12">
                            <div class="form-floating">
                                <input type="text" class="form-control" id="UserName" placeholder="Usuário" value=""
                                    required disabled>
                                <label for="UserName">Usuário</label>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-floating">
                                <input type="password" class="form-control" id="Password" placeholder="Senha" value=""
                                    required>
                                <label for="Password">Senha</label>
                            </div>
                            <div class="form-check text-start h6 text-secondary">
                                <input type="checkbox" class="form-check-input" id="mostrar-senha-atual">
                                <label class="form-check-label" for="mostrar-senhas">Mostrar senha</label>
                            </div>
                        </div>
                        
                        <!-- Inserido a div dados para poder exibir somente se a senha estiver correta -->
                        <div id="dados" class="dados row g-lg-2">
                            <div class="col-md-12">
                                <div class="form-floating">
                                    <input id="TelephoneNumber" type="number" class="form-control"
                                        pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" placeholder="Ramal">
                                    <label for="TelephoneNumber">Ramal</label>
                                </div>
                            </div>

                            <div class="col-md-12">
                                <div class="form-floating">
                                    <input id="StreetAddress" type="text" class="form-control " placeholder="Sala">
                                    <label for="StreetAddress">Sala</label>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-floating">
                                    <input id="PostalCode" type="text" class="form-control " placeholder="Caixa">
                                    <label for="PostalCode">Caixa</label>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-floating">
                                    <input id="Location" type="text" class="form-control " placeholder="Prédio">
                                    <label for="Location">Prédio</label>
                                </div>
                            </div>

                            <div class="col-md-4">
                                <div class="col-md-12 end-1">
                                    <input type="button" id="btn-dados" class="btn btn-primary py-1 px-4" value="Enviar" />
                                </div>
                            </div>
                            
                        </div>
                        <div class="row mb-0 mt-4">
                            <div class="col-md-12 end-1">
                                <input type="button" id="btn-exibir-dados" class="btn btn-primary py-1 px-4"
                                    value="Editar Dados" />
                            </div>
                            <div class="col-md-12 end-1">
                                <input type="button" id="btn-dados" class="btn btn-primary py-1 px-4" value="Enviar" />
                            </div>
                        </div>
                        
                        
                    </div>

                    <div class="row mb-0 mt-4">
                        
                        <div class="row mb-0 mt-4" style="display: block;">
                            <hr>
                            <div class="col-md-12 pt-2">
                                <a class="col-md-3 btn btn-secondary py-1 px-3" href="index.html">Tela Inicial</a>
                                <a class="col-md-3 btn btn-danger py-1 px-3" href="login.html">Sair</a>
                            </div>
                        </div>

                    </div>
                </form>
            </div>
        </div>

        <div id="messageDivSuccess" role="alert" style="display:none" class=" alert alert-success align-items-center justify-content-center"></div>
        <div id="messageDivDanger" role="alert" style="display:none" class=" alert alert-danger align-items-center justify-content-center"></div>
        <div id="spinner">

        </div>
    </section>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            let valorSalvo = localStorage.getItem('loginUsuario');
            if (valorSalvo !== null) {
                document.getElementById('UserName').value = valorSalvo;
            }
        });
    </script>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="script_exibir_dados.js"></script>
    <script src="script_validacao_email.js"></script>
    <script src="script_enviar_dados.js"></script>

</body>

</html>